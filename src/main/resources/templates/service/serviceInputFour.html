<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<th:block th:fragment="bodyPage4">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Emoji:wght@500&display=swap" rel="stylesheet">
    <style>
        .mainImgTitle{
            display:flex;
            font-weight: bolder;
        }

        .imgUploadBox{
            border:1px solid #dddddd;
            width:251px;
            height:186px;
            display: flex;
            justify-content: center;
            align-items: center;

        }

        .imgUploadTipModal{
            color: rgb(11, 82, 167);
            width: 900px;
            border:1px solid lightblue;
            margin : 20px 0;
            padding : 10px;
            background-color: rgb(247, 251, 255);

            justify-content: space-between;
        }
        .fthModalwrapper{
            display: flex;
            width: 800px;
        }

        #detailImgUpload, #vidUpBtn{
            cursor:pointer;
        }

        .imgModalTipTxtArea{

            margin-left:50px;
        }

        .imgUpBtn{
            padding: 5px;
            border:1px solid #dddddd;
            text-align: center;
            width:195px;
            height:45px;
            line-height: 35px;
            font-size:14px;
            font-weight: bolder;
            font-family: 'Noto Emoji', sans-serif;
            background-color: transparent;
            cursor:pointer;
        }

        .vidUpload{
            width:251px;
            height:60px;
            line-height: 60px;
            text-align: center;
            border:1px solid #dddddd;
            text-decoration: none;
            background-color: white;
            cursor:pointer;
        }

        .detailImgCard{
            display: flex;
            cursor:pointer;

        }

        .detailCardArea{
            cursor: pointer;
            display: block;

        }

        .cardLabel{
            cursor:pointer;
            margin:10px;
        }


    </style>
    <div class="container shadow-sm p-5 rounded mt-4">
        <div class="form-group">
        <div class="mainImgTitle"><p>ë©”ì¸ì´ë¯¸ì§€ë“±ë¡(í•„ìˆ˜)</p><p>0/1</p></div>
            <div class="imgUploadBox" id="imgMainBox"><label for="mainImg"><div class="imgUpBtn" id="imgUpBtn" style="display:none">ğŸ“¤ ì´ë¯¸ì§€ ì—…ë¡œë“œ</div>
            <input type="file" name="mainImg" id="mainImg" style="display:none" onchange="previewImg(this)"><img src="/imgs/imageupload.png" style="width:88px; height:64px;"></label></div>
        </div>

        <div class="imgUploadTipModal" id="fthTip1" style="display: none;">
            <div class="fthModalwrapper">
                <div clas><h4>TIP</h4></div>
                <div class="ms-5"><img src="/imgs/modalTipImg.png"></div>
                <div class="imgModalTipTxtArea" >
                   <p>â€¢ ì´ë¯¸ì§€ ê¶Œì¥ ì‚¬ì´ì¦ˆ: 652 x 488px (4:3 ë¹„ìœ¨)<br>
                       <b>â€¢ ì‚¬ìš© ì œí•œ ì´ë¯¸ì§€</b>
                       ì €ì‘ê¶Œ ì¹¨í•´ (ë¬´ë‹¨ë³µì œ, ë„ìš©) ì´ë¯¸ì§€<br>
                       í”„ë¡œí•„ ì‚¬ì§„ê³¼ ë™ì¼í•œ ì´ë¯¸ì§€<br>
                       ê°€ê²©, ì—°ë½ì²˜, ì„œë¹„ìŠ¤ì™€ ê´€ë ¨ ì—†ëŠ” í™ë³´ì„± ë¬¸êµ¬<br>
                       ì„ì˜ë¡œ ì œì‘ëœ ì¸ì¦ ë§ˆí¬, ë¼ë²¨, í• ì¸í‘œê¸°<br>
                       ê²€ì¦ ë¶ˆê°€ ë‚´ìš© (ìµœì´ˆ, ìœ ì¼, ë¬´ì œí•œ, 1ìœ„, ëˆ„ì ì˜ë¢° ìˆ˜/ê¸ˆì•¡ í‘œê¸° ë“±)<br>
                       <br>
                       â€» ë“±ë¡í•˜ì‹  ì´ë¯¸ì§€ëŠ” ì´ìš©ì•½ê´€ì— ì˜ê±°, íŒë§¤ í™œì„±í™”ë¥¼ ìœ„í•œ ê´‘ê³  ì†Œì¬ë¡œ í™œìš©ë  ìˆ˜ ìˆìŠµë‹ˆë‹¤.<br>
                </p>
            </div>
            </div>
        </div>

<!--                  ìƒì„¸ ì´ë¯¸ì§€                            -->

        <div class="form-group">
            <div class="mainImgTitle"><p>ìƒì„¸ì´ë¯¸ì§€ë“±ë¡(ì„ íƒ)</p><p>0/9</p></div>
            <div class="detailCardArea" id="detailImgUpload" >
                <div class="detailImgCard" id="imgCardSec1" >
                    <label class="cardLabel">
                            <input type="file" class="concealedInput" name="file" style="display:none" onchange="previewImg(this)"><img src="/imgs/imageupload2.png" style="width:251px; height:186px;">
                    </label>
<!--                    <label class="cardLabel">-->
<!--                        <input type="file" class="concealedInput" name="file" style="display:none" onchange="previewImg(this)"><img src="/imgs/imageupload2.png" style="width:251px; height:186px;">-->
<!--                    </label>-->
<!--                    <label class="cardLabel">-->
<!--                        <input type="file" class="concealedInput" name="file" style="display:none" onchange="previewImg(this)"><img src="/imgs/imageupload2.png" style="width:251px; height:186px;">-->
<!--                    </label>-->
                 </div>
                <div class="detailImgCard" id="imgCardSec2" ></div>
                <div class="detailImgCard" id="imgCardSec3"  ></div>

                <!--                    <label class="cardLabel">-->
                <!--                        <div class="imgUploadBox">-->
                <!--                            <input type="file" class="concealedInput" name="file" style="display:none" onchange="previewImg(this)"><img src="/imgs/imageupload.png" style="width:88px; height:64px;">-->
                <!--                         </div>-->
                <!--                     </label>-->
                <!--                </div>-->
        </div>

        <div class="imgUploadTipModal" id="fthTip2" style="display: none;">
            <div class="fthModalwrapper">
              <div><h4>TIP</h4></div>
              <div class="imgModalTipTxtArea">
                    <p>â€¢ ë“±ë¡í•˜ì‹  ì´ë¯¸ì§€ëŠ” ì´ìš©ì•½ê´€ì— ì˜ê±°, íŒë§¤ í™œì„±í™”ë¥¼ ìœ„í•œ ê´‘ê³  ì†Œì¬ë¡œ í™œìš©ë  ìˆ˜ ìˆìŠµë‹ˆë‹¤.<br>
                        â€¢ ì´ë¯¸ì§€ ê¶Œì¥ ì‚¬ì´ì¦ˆ: ê°€ë¡œ 652px ì´ìƒ, ì„¸ë¡œ 3000px ì´í•˜<br>
                        â€¢ ìƒì„¸ì´ë¯¸ì§€ì— ì œê³µ ê°€ëŠ¥í•œ ì„œë¹„ìŠ¤ ìƒ˜í”Œ ì´ë¯¸ì§€ë¥¼ ë“±ë¡í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.<br>
                        â€¢ ìƒì—…ì ì¸ ì´ìš© ë° í—ˆê°€ì— ëŒ€í•œ ë¶€ë¶„ì„ í™•ì¸í•˜ì‹œì–´ ë“±ë¡í•´ì£¼ì‹œê¸¸ ë°”ëë‹ˆë‹¤.<br>
                        â€¢ ë¬´ë‹¨/ë¶€ì •í•œ ì´ìš©ìœ¼ë¡œ ì œ3ìì˜ ê¶Œë¦¬ë¥¼ ì¹¨í•´í•˜ëŠ” ì´ë¯¸ì§€ëŠ” ë“±ë¡í•  ìˆ˜ ì—†ìŠµë‹ˆë‹¤.<br>
                        â€¢ ìƒì„¸ ì´ë¯¸ì§€ëŠ” ì„œë¹„ìŠ¤ ìƒì„¸ í˜ì´ì§€ í•˜ë‹¨ì— ë“±ë¡í•˜ì‹  ìˆœì„œëŒ€ë¡œ ë…¸ì¶œë©ë‹ˆë‹¤.<br>
                        â€¢ ì´ë¯¸ì§€ë¥¼ ì—¬ëŸ¬ ì¥ ì²¨ë¶€í•  ê²½ìš° ê° ì´ë¯¸ì§€ ì‚¬ì´ë¥¼ êµ¬ë¶„í•˜ëŠ” ì—¬ë°±ì„ ê³ ë ¤í•˜ì—¬ ë“±ë¡í•˜ì‹œê¸¸ ë°”ëë‹ˆë‹¤.<br>
                        <br>
                        â€» ë“±ë¡í•˜ì‹  ì´ë¯¸ì§€ëŠ” ì´ìš©ì•½ê´€ì— ì˜ê±°, íŒë§¤ í™œì„±í™”ë¥¼ ìœ„í•œ ê´‘ê³  ì†Œì¬ë¡œ í™œìš©ë  ìˆ˜ ìˆìŠµë‹ˆë‹¤.<br>
                    </p>
                </div>
            </div>
        </div>

        <div class="form-group">
            <div class="mainImgTitle"><p>ë™ì˜ìƒë“±ë¡(ì„ íƒ)</p><p>0/6</p></div>
            <div class="vidUploadBox" id="vidUpBtn">
                <label>
                <div class="vidUpload">ë¹„ë””ì˜¤ ì—…ë¡œë“œ
                    <input type="file" name="vid" style="display:none">
                </div>
                </label>
            </div>
        </div>

        <div class="imgUploadTipModal" id="fthTip3" style="display: none;">
            <div class="fthModalwrapper">
                <div><h4>TIP</h4></div>
                <div class="imgModalTipTxtArea">
                    <p>â€¢ í•©ê³„ 500mb ì´í•˜ì˜ mp4 íŒŒì¼ì„ ë“±ë¡í•˜ì‹¤ ìˆ˜ ìˆìŠµë‹ˆë‹¤.<br>
                        â€¢ ê°œì¸ ì—°ë½ì²˜ í˜¹ì€ í™ë³´ ë™ì˜ìƒì€ ë“±ë¡í•˜ì‹¤ ìˆ˜ ì—†ìŠµë‹ˆë‹¤.<br>
                        â€¢ ìƒì—…ì ì¸ ì´ìš© ë° í—ˆê°€ì— ëŒ€í•œ ë¶€ë¶„ì„ í™•ì¸í•˜ì‹œì–´ ë“±ë¡í•´ì£¼ì‹œê¸° ë°”ëë‹ˆë‹¤.<br>
                        â€¢ ë¬´ë‹¨/ë¶€ì •í•œ ì´ìš©ìœ¼ë¡œ ì œ3ìì˜ ê¶Œë¦¬ë¥¼ ì¹¨í•´í•˜ëŠ” ë™ì˜ìƒì€ ë“±ë¡í•  ìˆ˜ ì—†ìŠµë‹ˆë‹¤.<br>

                    </p>
                </div>
            </div>
        </div>
    </div>
    </div>


<script>
    let imgbox = $(".imgUploadBox");
    let vidUploadBox = $(".vidUploadBox");
    var cnt =1;
    // function fileAppend(){
    //     if(cnt%3 == 0) {
    //         console.log("ì¹´ë“œ ëŒì•„ê° í˜„ì¬ cnt : "+cnt)
    //         var appendedDetailImg = '</div><div class="detailImgCard">'
    //         + '<label class="cardLabel"><div class="imgUploadBox">'
    //         + '<input type="file" class="concealedInput" name="file'+cnt+'" style="display:none" onchange="previewImg(this)">'
    //         + '<img src="/imgs/imageupload2.png" style="width:88px; height:64px;">'
    //         + '</div></label>';
    //         $(".detailImgCard").append(appendedDetailImg);
    //         cnt++;
    //         console.log("cnt : "+cnt);
    //     }else{
    //         console.log("ì¹´ë“œ ì•ˆëŒì•„ê° í˜„ì¬ cnt : "+cnt)
    //         var appendedDetailImg = '<label class="cardLabel"><div class="imgUploadBox">'
    //             + '<input type="file" class="concealedInput" name="file'+cnt+'" style="display:none" onchange="previewImg(this)">'
    //             + '<img src="/imgs/imageupload2.png" style="width:88px; height:64px;">'
    //             + '</div></label>';
    //         $(".detailImgCard").append(appendedDetailImg);
    //         cnt++;
    //         console.log("cnt : "+cnt);
    //     }
    // }

    function fileAppend(){

        cnt++;
        // if(cnt > 0 && cnt%3 === 0) {
        //     console.log("ìƒˆë¡œìš´ ë¼ì¸ cnt : "+cnt)
        //     var appendedDetailImg = 'ë‹«í˜€ë¼ ì¢€'
        //         + '</div>ë‹«íˆëŠ” êµ¬ê°„ <div class="detailImgCard" style="border:3px solid red">ë‹«ê³  ì—´ìŒ'
        //         + '<label class="cardLabel">'
        //         + '<input type="file" class="concealedInput" name="file'+cnt+'" style="display:none" onchange="previewImg(this)">'
        //         + '<img src="/imgs/imageupload2.png" style="width:251px; height:186px;">'
        //         + '</label> ë‚˜ëˆ ì„œ ë„£ì€ ì²«ë²ˆì§¸';
        //     $(".detailImgCard").append(appendedDetailImg);
        //
        //     console.log("cnt : "+cnt);
        // }
        // else{
        //     console.log("ë™ì¼ ë¼ì¸ í˜„ì¬ cnt : "+cnt)
        //     var appendedDetailImg = '<label class="cardLabel">'
        //         + '<input type="file" class="concealedInput" name="file'+cnt+'" style="display:none" onchange="previewImg(this)">'
        //         + '<img src="/imgs/imageupload2.png" style="width:251px; height:186px;">'
        //         + '</label>';
        //     $(".detailImgCard").append(appendedDetailImg);
        //
        //     console.log("cnt : "+cnt);
        // }
        var appendedDetailImg = '<label class="cardLabel">'
            + '<input type="file" class="concealedInput" name="file'+cnt+'" style="display:none" onchange="previewImg(this)">'
            + '<img src="/imgs/imageupload2.png" style="width:251px; height:186px;">'
            + '</label>';

        if(cnt < 4){
            $("#imgCardSec1").append(appendedDetailImg);
        }
        if(cnt>3 && cnt<7){
            $("#imgCardSec2").append(appendedDetailImg);
        }
        if(cnt>6 && cnt<10){
            $("#imgCardSec3").append(appendedDetailImg);
        }

    }

    function previewImg(pic){
        console.log("picì˜ firstChildëŠ”?" +pic.firstChild);
        console.log("picì˜ ì´ë¦„ : " + pic.name)
        console.log("pic : "+pic);
        console.log("picì˜ ë…¸ë“œë„¤ì„ : "+pic.nodeName);
        console.log("siblingì˜ nodeName : "+pic.nextSibling.nodeName);
        // console.log("siblingì˜ ì‹œë¸”ë§ì˜ ë…¸ë“œë„¤ì„ : "+pic.nextSibling.nextSibling.nodeName);
        console.log("pic.files : "+pic.files);
        var imgTag = pic.nextSibling;  //

        // fileAppend();

        if(pic.files && pic.files[0]){
            // filereader = ìë°”ìŠ¤í¬ë¦½íŠ¸ ë¼ì´ë¸ŒëŸ¬ë¦¬ ê°ì²´
            var fileReader = new FileReader();
            //onload = ë¶ˆëŸ¬ì˜¤ê¸° ì„±ê³µì‹œ ë°œë™í•˜ëŠ” ì´ë²¤íŠ¸	/  ë§¤ê°œë³€ìˆ˜ eë¥¼ ì“°ëŠ” ìµëª…í•¨ìˆ˜
            fileReader.onload = function(e){
                imgTag.height=251;
                imgTag.width=186;
                // ì´ë²¤íŠ¸ê°€ ë°œìƒí•œ ê°ì²´ì˜ ê²°ê³¼ê°’ = ì‚¬ì§„íŒŒì¼ì„ ê°€ì ¸ì˜´
                imgTag.src = e.target.result;
                if(pic.name!="mainImg"){
                    fileAppend();
                }

            }

            // íŒŒì¼ì˜ ì¢…ë¥˜ëŠ” í¬ê²Œ 2ê°€ì§€
            //1. ë°”ì´ë„ˆë¦¬ íŒŒì¼ : ë°ì´í„°ë¥¼ ìˆëŠ” ê·¸ëŒ€ë¡œ ì½ê³  ì“°ëŠ” íŒŒì¼
            //2. í…ìŠ¤íŠ¸ íŒŒì¼ : ë°ì´í„°ë¥¼ ë¬¸ìë¡œ ë³€í™˜í•œ íŒŒì¼
            // base64ëŠ” 6ë¹„íŠ¸ ê¸°ë°˜ ì´ê±¸ 8ë¹„íŠ¸(ì•„ìŠ¤í‚¤ì½”ë“œ) ê¸°ë°˜ í…ìŠ¤íŠ¸ë¡œ ì†ì‹¤ì—†ì´ ì•ˆì „í•˜ê²Œ ì¸ì½”ë”©í•¨.
            // ë°”ì´ë„ˆë¦¬ ë°ì´í„°ì˜ í›¼ì†ì—†ì´ ì •í™•í•˜ê²Œ ë°ì´í„°ë¥¼ ì „ë‹¬í•  ìˆ˜ ìˆë‹¤.

            //ë¶ˆëŸ¬ì˜¨ ë°”ì´ë„ˆë¦¬ íŒŒì¼ì„ http ë©”ì‹œì§€ ê·œê²©ì— ë§ëŠ” base64 í˜•ì‹ìœ¼ë¡œ ë³€í™˜
            fileReader.readAsDataURL(pic.files[0]);
        }

    };



    $(document).ready(function () {
        var imgMainBox =  document.getElementById("imgMainBox");
        var detailImgUpload = document.getElementById("detailImgUpload");
        var imgUpBtn = document.getElementById("imgUpBtn");
        var vidUpBtn = document.getElementById("vidUpBtn");
        var fthTip1 = document.getElementById("fthTip1");
        var fthTip2 = document.getElementById("fthTip2");
        var fthTip3 = document.getElementById("fthTip3");

        //  $("#imgMainBox").on("mouseover", function(){

        // $(".concealedInput").on("change", function(){
        //
        // });



        imgMainBox.addEventListener("mouseover", function(){
            console.log("imgMainBoxì´ë¦„ : "+imgMainBox.name);
            console.log("imgMainBoxì˜ ë…¸ë“œì´ë¦„ : "+imgMainBox.nodeName);
            console.log("first name"+imgMainBox.firstChild.name);
            console.log("first node name"+imgMainBox.firstChild.nodeName);
            console.log("last name"+imgMainBox.lastChild.name);
            console.log("last node name"+imgMainBox.lastChild.nodeName);

            imgMainBox.firstChild.lastChild.style.display='none';

            imgUpBtn.style.display='block';
            fthTip1.style.display='block';
            fthTip2.style.display='none';
            fthTip3.style.display='none';
        });

        imgMainBox.addEventListener("mouseout", function(){
            imgMainBox.firstChild.lastChild.style.display='block';
            imgUpBtn.style.display='none';
        });

        detailImgUpload.addEventListener("mouseover", function(){
            fthTip1.style.display='none';
            fthTip2.style.display='block';
            fthTip3.style.display='none';
        });

        vidUpBtn.addEventListener("mouseover", function(){
            fthTip1.style.display='none';
            fthTip2.style.display='none';
            fthTip3.style.display='block';
        });


    })


</script>

</th:block>
</html>
