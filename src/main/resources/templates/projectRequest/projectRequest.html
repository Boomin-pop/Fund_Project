<!DOCTYPE html>
<html lang="ko" xmlns:th="http://www.thymeleaf.org">

<!-- 헤더 -->
<th:block th:replace="inc/header :: headerFragment"></th:block>
<link rel="stylesheet" href="/css/projectRequest.css">
<script src="/js/projectRequest.js"></script>

<div class="container mt-3" style="height:1200px">
    <h1>kmong test home</h1>
    <button type="button" class="btn btn-primary" data-bs-toggle="modal" data-bs-target="#myModal">
        프로젝트 의뢰하기
    </button>
</div>
<!-- The Modal -->
<div class="modal" id="myModal">
    <div class="modal-dialog">
        <div class="modal-content">

            <!-- Modal Header -->
            <div class="modal-header">
                <h4 class="modal-title">Modal Heading</h4>
                <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
            </div>

            <!-- Modal body -->
            <!-- 분야 선택 -->
            <form id="requestForm" onsubmit="chk()" action="/project/request" method="POST">
                <div class="modal-body">
                    <div class="" id="first">
                        <h1>필요한 업무를 설명해주세요.</h1>
                        <h4>관련분야 선택</h4>
                        <select name="category" id="category">
                            <option value="" selected="selected">카테고리 선택</option>
                            <option value="cat1">카테고리01</option>
                            <option value="cat2">카테고리02</option>
                            <option value="cat3">카테고리03</option>
                            <option value="cat4">카테고리04</option>
                        </select>
                        <h4>필요한 서비스의 제목을 작성해주세요</h4>
                        <input type="text" id="title" name="title" placeholder="예)OOO분야의 솔루션을 요청드립니다">
                    </div>

                    <!-- 준비 상황 -->
                    <div class="" id="second" style="display: none">
                        <h4>필요한 업무를 설명해주세요.</h4>
                        <input type="radio" id="idea" name="work" value="idea">
                        <label for="idea">아이디어만 있음</label><br>
                        <input type="radio" id="planning" name="work" value="planning">
                        <label for="planning">기획서 보유</label><br>
                        <input type="radio" id="design" name="work" value="design">
                        <label for="design">디자인 보유</label><br>
                        <input type="radio" id="environment" name="work" value="environment">
                        <label for="environment">개발환경 보유</label>
                    </div>

                    <!-- 개발 요청사항 -->
                    <div class="" id="third" style="display: none">
                        <h4>개발을 요청하실 의뢰사항을 구체적으로 적어주세요</h4>
                        <textarea name="requested" id="requested" cols="30" rows="10"></textarea>
                    </div>

                    <!-- 프로젝트 예산 -->
                    <div class="" id="fourth" style="display: none">
                        <h4>프로젝트 예산을 기제해주세요</h4>
                        <input type="number" id="budget" name="budget" placeholder="최소 10,000원"> 원
                    </div>

                    <!-- 마감일자 -->
                    <div class="" id="fifth" style="display: none">
                        <h4>모집 마감 일자를 선택해주세요</h4>
                        <input type="date" id="wanted" name="wanted">
                        <h4>프로젝트 마감 일자를 선택해주세요</h4>
                        <input type="date" id="close" name="close">
                        <h4>작업 기간을 입력해주세요(일단위)</h4>
                        <input type="number" id="term" name="term">
                    </div>


                    <!-- 등록 완료 -->
                    <div class="" id="end" style="display: none">
                        <h1>프로젝트 등록 완료</h1>
                    </div>
                </div>

                <!--                  &lt;!&ndash; Modal body &ndash;&gt;
                                  &lt;!&ndash; 분야 선택 &ndash;&gt;
                                  <div class="modal-body" id="first">
                                      <h1>필요한 업무를 설명해주세요.</h1>
                                      <h4>관련분야 선택</h4>
                                      <select name="category" id="category">
                                          <option value="" selected="selected">카테고리 선택</option>
                                          <option value="cat1">카테고리01</option>
                                          <option value="cat2">카테고리02</option>
                                          <option value="cat3">카테고리03</option>
                                          <option value="cat4">카테고리04</option>
                                      </select>
                                      <h4>필요한 서비스의 제목을 작성해주세요</h4>
                                      <input type="text" id="title" placeholder="예)OOO분야의 솔루션을 요청드립니다">
                                  </div>

                                  &lt;!&ndash; 준비 상황 &ndash;&gt;
                                  <div class="modal-body" id="second" style="display: none">
                                      <h4>필요한 업무를 설명해주세요.</h4>
                                      <input type="radio" id="idea" name="work" value="idea">
                                      <label for="idea">아이디어만 있음</label><br>
                                      <input type="radio" id="planning" name="work" value="planning">
                                      <label for="planning">기획서 보유</label><br>
                                      <input type="radio" id="design" name="work" value="design">
                                      <label for="design">디자인 보유</label><br>
                                      <input type="radio" id="environment" name="work" value="environment">
                                      <label for="environment">개발환경 보유</label>
                                  </div>

                                  &lt;!&ndash; 개발 요청사항 &ndash;&gt;
                                  <div class="modal-body" id="third" style="display: none">
                                      <h4>개발을 요청하실 의뢰사항을 구체적으로 적어주세요</h4>
                                      <textarea name="requested" id="requested" cols="30" rows="10"></textarea>
                                  </div>

                                  &lt;!&ndash; 프로젝트 예산 &ndash;&gt;
                                  <div class="modal-body" id="fourth" style="display: none">
                                      <h4>프로젝트 예산을 기제해주세요</h4>
                                      <input type="number" id="budget" placeholder="최소 10,000원"> 원
                                  </div>

                                  &lt;!&ndash; 마감일자 &ndash;&gt;
                                  <div class="modal-body" id="fifth" style="display: none">
                                      <h4>모집 마감 일자를 선택해주세요</h4>
                                      <input type="date" id="wanted">
                                      <h4>프로젝트 마감 일자를 선택해주세요</h4>
                                      <input type="date" id="close">
                                      <h4>작업 기간을 입력해주세요(일단위)</h4>
                                      <input type="number" id="term">
                                  </div>


                                  &lt;!&ndash; 등록 완료 &ndash;&gt;
                                  <div class="modal-body" id="end" style="display: none">
                                      <h1>프로젝트 등록 완료</h1>
                                  </div>
    -->
                <!-- Modal footer -->
                <div class="modal-footer">
                    <button type="button" class="btn btn-danger" data-bs-dismiss="modal">Close</button>
                    <button type="button" id="prevBtn" class="btn btn-success">이전</button>
                    <button type="button" id="nextBtn" class="btn btn-success">다음</button>
                    <button type="button" id="submit" form="requestForm" class="btn btn-success">등록ㄱ</button>
                    <input type="submit" class="btn btn-primary" value="등록">
                </div>
            </form>
        </div>
    </div>
</div>

<script>
    $('#nextBtn').on("click", function () {
        if ($('#first').css('display') == 'block') {
            $('#first').css('display', 'none');
            $('#second').css('display', 'block');
        } else if ($('#second').css('display') == 'block') {
            $('#second').css('display', 'none');
            $('#third').css('display', 'block');
        } else if ($('#third').css('display') == 'block') {
            $('#third').css('display', 'none');
            $('#fourth').css('display', 'block');
        } else if ($('#fourth').css('display') == 'block') {
            $('#fourth').css('display', 'none');
            $('#fifth').css('display', 'block')
        }
    });

    $('#prevBtn').on("click", function () {
        if ($('#fifth').css('display') == 'block') {
            $('#fifth').css('display', 'none');
            $('#fourth').css('display', 'block');
        } else if ($('#fourth').css('display') == 'block') {
            $('#fourth').css('display', 'none');
            $('#third').css('display', 'block');
        } else if ($('#third').css('display') == 'block') {
            $('#third').css('display', 'none');
            $('#second').css('display', 'block');
        } else if ($('#second').css('display') == 'block') {
            $('#second').css('display', 'none');
            $('#first').css('display', 'block');
        }
    });

    function chk() {
        if ($('#category').val() == '') {
            event.preventDefault();
            alert("카테고리를 선택해주세요");
            $('#category').focus();
            return false;
        }
        if ($('#title').val() == '') {
            event.preventDefault();
            alert("제목을 작성해주세요");
            $('#title').focus();
            return false;
        }
        if ($('input[name=work]').val() == '') {
            event.preventDefault();
            alert("필요한 업무를 선택해주세요");
            $('input[name=work]').focus();
            return false;
        }
        if ($('#requested').val() == '') {
            event.preventDefault();
            alert("요청사항을 입력해주세요");
            $('#requested').focus();
            return false;
        }
        if ($('#budget').val() == '') {
            event.preventDefault();
            alert("예산을 입력해주세요");
            $('#budget').focus();
            return false;
        }
        if ($('#wanted').val() == '') {
            event.preventDefault();
            alert("모집 마감 일자를 선택해주세요");
            $('#wanted').focus();
            return false;
        }
        if ($('#close').val() == '') {
            event.preventDefault();
            alert("프로젝트 마감 일자를 선택해주세요");
            $('#close').focus();
            return false;
        }
        if ($('#term').val() == '') {
            event.preventDefault();
            alert("작업 기간을 입력해주세요");
            $('#term').focus();
            return false;
        }
    }


</script>

<!-- 푸터 -->
<th:block th:replace="inc/footer :: footerFragment"></th:block>
</body>
</html>